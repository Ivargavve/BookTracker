import{a as x}from"./chunk-XUP662KI.js";import{a as F,b as c,c as S,d as M,e as C,f as _,g as B,h as y,i as E,j as I,k as N}from"./chunk-5OW2CA4D.js";import{B as f,F as d,G as t,H as e,I as l,K as g,L as u,N as r,P as b,ba as v,da as k,ka as h,u as a,w as m,x as p}from"./chunk-3J3GWWA6.js";function P(i,n){if(i&1&&(t(0,"div",18),r(1),e()),i&2){let o=u();a(),b(" ",o.successMessage," ")}}function q(i,n){if(i&1&&(t(0,"div",19),r(1),e()),i&2){let o=u();a(),b(" ",o.errorMessage," ")}}var D=class i{constructor(n,o,s){this.fb=n;this.bookService=o;this.router=s;this.bookForm=this.fb.group({title:["",c.required],author:["",c.required],publishedDate:["",c.required],imageUrl:[""]})}bookForm;successMessage="";errorMessage="";onSubmit(){if(console.log("onSubmit called"),this.bookForm.valid){let n=this.bookForm.value;console.log("Submitting book:",n),this.bookService.addBook(n).subscribe({next:()=>{this.successMessage="Book added successfully!",this.errorMessage="",this.bookForm.reset(),setTimeout(()=>this.router.navigate(["/books"]),1500)},error:o=>{console.error("Error adding book:",o),this.errorMessage="Failed to add book.",this.successMessage=""}})}else this.errorMessage="Please fill in all required fields.",this.successMessage="",console.log("Form is invalid")}static \u0275fac=function(o){return new(o||i)(m(E),m(x),m(h))};static \u0275cmp=p({type:i,selectors:[["app-book-form"]],decls:28,vars:3,consts:[[1,"container","mt-5"],[1,"card","add-book-card","mx-auto","p-4","shadow"],[1,"text-center","mb-3"],[1,"text-center","add-book-subtext","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","title",1,"form-label"],["id","title","formControlName","title","type","text","placeholder","e.g. The Great Gatsby","required","",1,"form-control"],["for","author",1,"form-label"],["id","author","formControlName","author","type","text","placeholder","e.g. F. Scott Fitzgerald","required","",1,"form-control"],["for","publishedDate",1,"form-label"],["id","publishedDate","formControlName","publishedDate","type","date","required","",1,"form-control"],["for","imageUrl",1,"form-label"],["id","imageUrl","formControlName","imageUrl","type","url","placeholder","optional: https://example.com/image.jpg",1,"form-control"],["type","submit",1,"btn","add-book-submit-btn","w-100"],[1,"fas","fa-plus","me-2"],["class","alert alert-success mt-3 text-center",4,"ngIf"],["class","alert alert-danger mt-3 text-center",4,"ngIf"],[1,"alert","alert-success","mt-3","text-center"],[1,"alert","alert-danger","mt-3","text-center"]],template:function(o,s){o&1&&(t(0,"div",0)(1,"div",1)(2,"h2",2),r(3,"Publish a Book"),e(),t(4,"p",3),r(5," Fill in the details below to add a book to the main library. "),e(),t(6,"form",4),g("ngSubmit",function(){return s.onSubmit()}),t(7,"div",5)(8,"label",6),r(9,"Title"),e(),l(10,"input",7),e(),t(11,"div",5)(12,"label",8),r(13,"Author"),e(),l(14,"input",9),e(),t(15,"div",5)(16,"label",10),r(17,"Published Date"),e(),l(18,"input",11),e(),t(19,"div",5)(20,"label",12),r(21,"Image URL"),e(),l(22,"input",13),e(),t(23,"button",14),l(24,"i",15),r(25,"Add this book "),e(),f(26,P,2,1,"div",16)(27,q,2,1,"div",17),e()()()),o&2&&(a(6),d("formGroup",s.bookForm),a(20),d("ngIf",s.successMessage),a(),d("ngIf",s.errorMessage))},dependencies:[N,C,F,S,M,y,_,B,I,k,v],styles:[".add-book-card[_ngcontent-%COMP%]{max-width:500px;background-color:var(--bg);color:var(--text);border:1px solid var(--card-border);border-radius:.5rem;transition:background-color .2s,color .2s,border-color .2s}.add-book-subtext[_ngcontent-%COMP%]{color:var(--meta-text)}input.form-control[_ngcontent-%COMP%]{background-color:var(--bg);color:var(--text);border:1px solid var(--btn-border)}input.form-control[_ngcontent-%COMP%]::placeholder{color:var(--meta-text)}.add-book-submit-btn[_ngcontent-%COMP%]{background-color:var(--btn-border);color:var(--bg);border:none;transition:background-color .2s}.add-book-submit-btn[_ngcontent-%COMP%]:hover{background-color:var(--hover);color:var(--bg)}"]})};export{D as BookForm};
