import{a as F,b as u,c as y,d as M,e as P,f as L,g as E,i as N,j as O,k as I}from"./chunk-5OW2CA4D.js";import{$ as h,B as p,F as a,G as t,H as o,I as l,K as d,L as b,N as n,P as v,T as f,ba as x,da as k,ka as _,la as w,oa as S,qa as C,u as i,w as m,x as g}from"./chunk-3J3GWWA6.js";var G=()=>["/register"];function V(s,c){if(s&1&&(t(0,"div",19),n(1),o()),s&2){let r=b();i(),v(" ",r.errorMessage," ")}}var R=class s{constructor(c,r,e){this.fb=c;this.authService=r;this.router=e;this.loginForm=this.fb.group({username:["",u.required],password:["",u.required]})}loginForm;errorMessage="";showPassword=!1;togglePasswordVisibility(){this.showPassword=!this.showPassword}onSubmit(){if(this.loginForm.valid){let{username:c,password:r}=this.loginForm.value;this.authService.login(c,r).subscribe({next:e=>{localStorage.setItem("token",e.token),this.router.navigate(["/"])},error:e=>{console.error("Login error:",e),this.errorMessage="Login failed: "+(e.error?.message||"Unknown error"),console.error(e)}})}}static \u0275fac=function(r){return new(r||s)(m(N),m(C),m(_))};static \u0275cmp=g({type:s,selectors:[["app-login-form"]],decls:31,vars:6,consts:[[1,"container","mt-5"],[1,"card","login-card","mx-auto","p-4","shadow"],[1,"text-center","mb-3"],[1,"text-center","login-subtext","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-user"],["type","text","formControlName","username","placeholder","username","autocomplete","username",1,"form-control"],[1,"fas","fa-lock"],["formControlName","password","placeholder","password","autocomplete","current-password",1,"form-control",3,"type"],["type","button",1,"btn","btn-icon","ms-1",3,"click"],[1,"fas",3,"ngClass"],["type","submit",1,"btn","login-submit-btn","w-100"],["class","alert alert-danger mt-3 text-center",4,"ngIf"],[1,"text-center","mt-3"],[1,"register-link",3,"routerLink"],[1,"alert","alert-danger","mt-3","text-center"]],template:function(r,e){r&1&&(t(0,"div",0)(1,"div",1)(2,"h2",2),n(3,"Booksy Login"),o(),t(4,"p",3),n(5,"Welcome back! Please log in to continue."),o(),t(6,"form",4),d("ngSubmit",function(){return e.onSubmit()}),t(7,"div",5)(8,"label",6),n(9,"Username"),o(),t(10,"div",7)(11,"span",8),l(12,"i",9),o(),l(13,"input",10),o()(),t(14,"div",5)(15,"label",6),n(16,"Password"),o(),t(17,"div",7)(18,"span",8),l(19,"i",11),o(),l(20,"input",12),t(21,"button",13),d("click",function(){return e.togglePasswordVisibility()}),l(22,"i",14),o()()(),t(23,"button",15),n(24,"Login"),o(),p(25,V,2,1,"div",16),t(26,"div",17)(27,"span"),n(28,"Don't have an account? "),o(),t(29,"a",18),n(30,"Register here"),o()()()()()),r&2&&(i(6),a("formGroup",e.loginForm),i(14),a("type",e.showPassword?"text":"password"),i(2),a("ngClass",e.showPassword?"fa-eye-slash":"fa-eye"),i(3),a("ngIf",e.errorMessage),i(4),a("routerLink",f(5,G)))},dependencies:[I,P,F,y,M,L,E,O,k,h,x,S,w],styles:[".login-card[_ngcontent-%COMP%]{max-width:400px;background-color:var(--bg);color:var(--text);border:1px solid var(--card-border);border-radius:.5rem;transition:background-color .2s,color .2s,border-color .2s}.login-subtext[_ngcontent-%COMP%]{color:var(--meta-text)}.input-group-text[_ngcontent-%COMP%]{background-color:var(--btn-bg);color:var(--btn-icon-color);border:1px solid var(--btn-border);transition:background-color .2s,color .2s}input.form-control[_ngcontent-%COMP%]{background-color:var(--bg);color:var(--text);border:1px solid var(--btn-border)}input.form-control[_ngcontent-%COMP%]::placeholder{color:var(--meta-text)}.btn-icon[_ngcontent-%COMP%]{width:36px;height:36px;padding:0;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:16px;border:1px solid var(--btn-border);background-color:var(--btn-bg);color:var(--btn-icon-color);transition:background-color .2s,color .2s}.btn-icon[_ngcontent-%COMP%]:hover{background-color:var(--btn-hover-bg);color:var(--hover)}.login-submit-btn[_ngcontent-%COMP%]{background-color:var(--btn-border);color:var(--bg);border:none;transition:background-color .2s}.login-submit-btn[_ngcontent-%COMP%]:hover{background-color:var(--hover);color:var(--bg)}.register-link[_ngcontent-%COMP%]{color:var(--hover);text-decoration:none}.register-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};export{R as LoginForm};
