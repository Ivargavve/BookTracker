import{a as C,b as g,c as R,d as k,e as y,f as E,g as w,h as P,i as I,j as N,k as O}from"./chunk-5OW2CA4D.js";import{B as f,F as l,G as r,H as e,I as c,K as v,L as d,N as o,P as u,T as b,ba as x,da as h,ka as M,la as S,oa as F,qa as _,u as a,w as m,x as p}from"./chunk-3J3GWWA6.js";var A=()=>["/login"];function G(i,n){if(i&1&&(r(0,"div",19),o(1),e()),i&2){let t=d();a(),u(" ",t.errorMessage," ")}}function D(i,n){if(i&1&&(r(0,"div",20),o(1),e()),i&2){let t=d();a(),u(" ",t.successMessage," ")}}var q=class i{constructor(n,t,s){this.fb=n;this.authService=t;this.router=s;this.registerForm=this.fb.group({username:["",g.required],password:["",g.required]})}registerForm;errorMessage="";successMessage="";onSubmit(){if(this.registerForm.valid){let{username:n,password:t}=this.registerForm.value;this.authService.register(n,t).subscribe({next:()=>{console.log("Registration succeeded for user:",n),this.successMessage="Registration successful!",this.errorMessage="",this.registerForm.reset(),this.router.navigate(["/login"])},error:s=>{console.log("Registration failed for user:",n),this.errorMessage="Registration failed",this.successMessage="",console.error(s)}})}else this.errorMessage="Please fill in all required fields.",this.successMessage=""}static \u0275fac=function(t){return new(t||i)(m(I),m(_),m(M))};static \u0275cmp=p({type:i,selectors:[["app-register-form"]],decls:30,vars:5,consts:[[1,"container","mt-5"],[1,"card","register-card","mx-auto","p-4","shadow"],[1,"text-center","mb-3"],[1,"text-center","register-subtext","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","username",1,"form-label"],[1,"input-group"],[1,"input-group-text"],[1,"fas","fa-user"],["id","username","formControlName","username","type","text","placeholder","Enter a username","required","",1,"form-control"],["for","password",1,"form-label"],[1,"fas","fa-lock"],["id","password","formControlName","password","type","password","placeholder","Create a password","required","",1,"form-control"],["type","submit",1,"btn","register-submit-btn","w-100"],["class","alert alert-danger mt-3 text-center",4,"ngIf"],["class","alert alert-success mt-3 text-center",4,"ngIf"],[1,"text-center","mt-3"],[1,"register-link",3,"routerLink"],[1,"alert","alert-danger","mt-3","text-center"],[1,"alert","alert-success","mt-3","text-center"]],template:function(t,s){t&1&&(r(0,"div",0)(1,"div",1)(2,"h2",2),o(3,"Create Account"),e(),r(4,"p",3),o(5," Join Booksy and start your reading journey. "),e(),r(6,"form",4),v("ngSubmit",function(){return s.onSubmit()}),r(7,"div",5)(8,"label",6),o(9,"Username"),e(),r(10,"div",7)(11,"span",8),c(12,"i",9),e(),c(13,"input",10),e()(),r(14,"div",5)(15,"label",11),o(16,"Password"),e(),r(17,"div",7)(18,"span",8),c(19,"i",12),e(),c(20,"input",13),e()(),r(21,"button",14),o(22,"Register"),e(),f(23,G,2,1,"div",15)(24,D,2,1,"div",16),r(25,"div",17)(26,"span"),o(27,"Already have an account? "),e(),r(28,"a",18),o(29,"Login here"),e()()()()()),t&2&&(a(6),l("formGroup",s.registerForm),a(17),l("ngIf",s.errorMessage),a(),l("ngIf",s.successMessage),a(4),l("routerLink",b(4,A)))},dependencies:[O,y,C,R,k,P,E,w,N,h,x,F,S],styles:[".register-card[_ngcontent-%COMP%]{max-width:400px;background-color:var(--bg);color:var(--text);border:1px solid var(--card-border);border-radius:.5rem;transition:background-color .2s,color .2s,border-color .2s}.register-subtext[_ngcontent-%COMP%]{color:var(--meta-text)}.input-group-text[_ngcontent-%COMP%]{background-color:var(--btn-bg);color:var(--btn-icon-color);border:1px solid var(--btn-border);transition:background-color .2s,color .2s}input.form-control[_ngcontent-%COMP%]{background-color:var(--bg);color:var(--text);border:1px solid var(--btn-border)}input.form-control[_ngcontent-%COMP%]::placeholder{color:var(--meta-text)}.register-submit-btn[_ngcontent-%COMP%]{background-color:var(--btn-border);color:var(--bg);border:none;transition:background-color .2s}.register-submit-btn[_ngcontent-%COMP%]:hover{background-color:var(--hover);color:var(--bg)}.register-link[_ngcontent-%COMP%]{color:var(--hover);text-decoration:none}.register-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};export{q as RegisterForm};
