import{a as C}from"./chunk-G5KA7DMQ.js";import{a as I}from"./chunk-RO274HNY.js";import{B as u,F as m,G as o,H as n,I as f,J as g,K as x,L as a,N as c,P as l,aa as _,ba as q,da as h,m as p,n as v,pa as k,u as i,w as d,x as b}from"./chunk-NMFEY4RC.js";function S(r,e){if(r&1){let t=g();o(0,"div",12)(1,"button",13),x("click",function(){p(t);let M=a().$implicit,Q=a();return v(Q.deleteQuote(M.id))}),f(2,"i",14),n()()}}function w(r,e){if(r&1&&(o(0,"div",4)(1,"div",5),u(2,S,3,0,"div",6),o(3,"div",7)(4,"blockquote",8)(5,"p",9),c(6),n(),o(7,"footer",10),c(8),n()()(),o(9,"div",11),c(10),n()()()),r&2){let t=e.$implicit,s=a();i(2),m("ngIf",t.userId===s.currentUserId),i(4),l('"',t.text,'"'),i(2),l("\u2014 ",t.author),i(2),l(" User ID: ",t.userId," ")}}var O=class r{constructor(e,t){this.quoteService=e;this.auth=t}quotes=[];currentUserId=null;ngOnInit(){this.setCurrentUserId(),this.loadQuotes()}setCurrentUserId(){let e=this.auth.getToken();if(e){let t=C(e);this.currentUserId=+t["http://schemas.xmlsoap.org/ws/2005/05/identity/claims/nameidentifier"]||+t.sub||null}}loadQuotes(){this.quoteService.getQuotes().subscribe(e=>{this.quotes=e.reverse().slice(0,5)})}deleteQuote(e){this.quoteService.deleteQuote(e).subscribe(()=>{this.quotes=this.quotes.filter(t=>t.id!==e)})}static \u0275fac=function(t){return new(t||r)(d(I),d(k))};static \u0275cmp=b({type:r,selectors:[["app-quote-list"]],decls:5,vars:1,consts:[[1,"container","mt-5"],[1,"text-center","mb-4"],[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-3","g-4"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"quote-card","card","shadow-sm","position-relative","d-flex","flex-column"],["class","position-absolute top-0 end-0 m-2 z-3",4,"ngIf"],[1,"card-body","d-flex","flex-column","justify-content-center","text-center"],[1,"blockquote","mb-0"],[1,"quote-text"],[1,"blockquote-footer","mt-2"],[1,"card-footer","quote-card-footer","text-center","small"],[1,"position-absolute","top-0","end-0","m-2","z-3"],["title","Ta bort citat",1,"btn","btn-sm","btn-icon","quote-card-btn",3,"click"],[1,"fas","fa-trash-alt"]],template:function(t,s){t&1&&(o(0,"div",0)(1,"h2",1),c(2,"Mina citat"),n(),o(3,"div",2),u(4,w,11,4,"div",3),n()()),t&2&&(i(4),m("ngForOf",s.quotes))},dependencies:[h,_,q],styles:[".quote-card[_ngcontent-%COMP%]{background-color:var(--bg);color:var(--text);border:1px solid var(--card-border);min-height:14rem;max-height:none;overflow:visible;transition:background-color .2s,color .2s,border-color .2s;border-radius:.5rem;padding:1rem}.quote-card[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]{font-style:italic;color:var(--text);word-break:break-word}.quote-card[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]   .quote-text[_ngcontent-%COMP%]{font-size:1.1rem;margin-bottom:.75rem}.quote-card[_ngcontent-%COMP%]   blockquote[_ngcontent-%COMP%]   .blockquote-footer[_ngcontent-%COMP%]{font-size:.9rem;color:var(--meta-text);opacity:.9}.quote-card-footer[_ngcontent-%COMP%]{background-color:var(--footer-bg);color:var(--meta-text);border-top:1px solid var(--card-border);padding:.5rem}.quote-card-btn[_ngcontent-%COMP%]{background-color:transparent;border:none;color:var(--btn-icon-color);padding:.25rem;border-radius:.375rem;transition:background-color .2s,color .2s}.quote-card-btn[_ngcontent-%COMP%]:hover{background-color:var(--btn-hover-bg);color:var(--hover)}.quote-card-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none}"]})};export{O as QuoteList};
